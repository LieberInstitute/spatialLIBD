<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Download the Human DLPFC Visium data from LIBD — fetch_data • spatialLIBD</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Download the Human DLPFC Visium data from LIBD — fetch_data"><meta property="og:description" content="This function downloads from ExperimentHub Visium, Visium Spatial
Proteogenomics (Visium-SPG), or single nucleus RNA-seq (snRNA-seq) data
and results analyzed by LIBD from multiple projects.
If ExperimentHub is not available, this function will
download the files from Dropbox using BiocFileCache::bfcrpath() unless the
files are present already at destdir. Note that ExperimentHub and
BiocFileCache will cache the data and automatically detect if you have
previously downloaded it, thus making it the preferred way to interact with
the data."><meta property="og:image" content="/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">spatialLIBD</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.15.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/spatialLIBD.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/TenX_data_download.html">Using spatialLIBD with 10x Genomics public datasets</a>
    </li>
    <li>
      <a href="../articles/guide_to_spatial_registration.html">Guide to Spatial Registration</a>
    </li>
    <li>
      <a href="../articles/multi_gene_plots.html">Guide to Multi-Gene Plots</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/LieberInstitute/spatialLIBD/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Download the Human DLPFC Visium data from LIBD</h1>
    <small class="dont-index">Source: <a href="https://github.com/LieberInstitute/spatialLIBD/blob/HEAD/R/fetch_data.R" class="external-link"><code>R/fetch_data.R</code></a></small>
    <div class="hidden name"><code>fetch_data.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function downloads from <code>ExperimentHub</code> Visium, Visium Spatial
Proteogenomics (Visium-SPG), or single nucleus RNA-seq (snRNA-seq) data
and results analyzed by LIBD from multiple projects.
If <code>ExperimentHub</code> is not available, this function will
download the files from Dropbox using <code><a href="https://rdrr.io/pkg/BiocFileCache/man/BiocFileCache-class.html" class="external-link">BiocFileCache::bfcrpath()</a></code> unless the
files are present already at <code>destdir</code>. Note that <code>ExperimentHub</code> and
<code>BiocFileCache</code> will cache the data and automatically detect if you have
previously downloaded it, thus making it the preferred way to interact with
the data.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">fetch_data</span><span class="op">(</span></span>
<span>  type <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"sce"</span>, <span class="st">"sce_layer"</span>, <span class="st">"modeling_results"</span>, <span class="st">"sce_example"</span>, <span class="st">"spe"</span>,</span>
<span>    <span class="st">"spatialDLPFC_Visium"</span>, <span class="st">"spatialDLPFC_Visium_example_subset"</span>,</span>
<span>    <span class="st">"spatialDLPFC_Visium_pseudobulk"</span>, <span class="st">"spatialDLPFC_Visium_modeling_results"</span>,</span>
<span>    <span class="st">"spatialDLPFC_Visium_SPG"</span>, <span class="st">"spatialDLPFC_snRNAseq"</span>,</span>
<span>    <span class="st">"Visium_SPG_AD_Visium_wholegenome_spe"</span>, <span class="st">"Visium_SPG_AD_Visium_targeted_spe"</span>,</span>
<span>    <span class="st">"Visium_SPG_AD_Visium_wholegenome_pseudobulk_spe"</span>,</span>
<span>    <span class="st">"Visium_SPG_AD_Visium_wholegenome_modeling_results"</span><span class="op">)</span>,</span>
<span>  destdir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  eh <span class="op">=</span> <span class="fu">ExperimentHub</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/ExperimentHub/man/ExperimentHub-class.html" class="external-link">ExperimentHub</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>  bfc <span class="op">=</span> <span class="fu">BiocFileCache</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/BiocFileCache/man/BiocFileCache-class.html" class="external-link">BiocFileCache</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>type</dt>
<dd><p>A <code>character(1)</code> specifying which file you want to download. It
can either be: <code>sce</code> for the
SingleCellExperiment
object containing the spot-level data that includes the information for
visualizing the clusters/genes on top of the Visium histology, <code>sce_layer</code>
for the
SingleCellExperiment
object containing the layer-level data (pseudo-bulked from the spot-level),
or <code>modeling_results</code> for the list of tables with the <code>enrichment</code>,
<code>pairwise</code>, and <code>anova</code> model results from the layer-level data. It can also
be <code>sce_example</code> which is a reduced version of <code>sce</code> just for example
purposes. The initial version of <code>spatialLIBD</code> downloaded data only from
<a href="https://github.com/LieberInstitute/HumanPilot" class="external-link">https://github.com/LieberInstitute/HumanPilot</a>. As of BioC version 3.13
<code>spe</code> downloads a
<a href="https://rdrr.io/pkg/SpatialExperiment/man/SpatialExperiment.html" class="external-link">SpatialExperiment-class</a>  object.
As of version 1.11.6, this function also allows downloading data from the
<a href="http://research.libd.org/spatialDLPFC/" class="external-link">http://research.libd.org/spatialDLPFC/</a> project. As of version 1.11.12,
data from <a href="https://github.com/LieberInstitute/Visium_SPG_AD" class="external-link">https://github.com/LieberInstitute/Visium_SPG_AD</a> can be
downloaded.</p></dd>


<dt>destdir</dt>
<dd><p>The destination directory to where files will be downloaded
to in case the <code>ExperimentHub</code> resource is not available. If you already
downloaded the files, you can set this to the current path where the files
were previously downloaded to avoid re-downloading them.</p></dd>


<dt>eh</dt>
<dd><p>An <code>ExperimentHub</code> object
<a href="https://rdrr.io/pkg/ExperimentHub/man/ExperimentHub-class.html" class="external-link">ExperimentHub-class</a>.</p></dd>


<dt>bfc</dt>
<dd><p>A <code>BiocFileCache</code> object
<a href="https://rdrr.io/pkg/BiocFileCache/man/BiocFileCache-class.html" class="external-link">BiocFileCache-class</a>. Used when
<code>eh</code> is not available.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>The requested object: <code>sce</code>, <code>sce_layer</code>, <code>ve</code> or <code>modeling_results</code> that
you have to assign to an object. If you didn't you can still avoid
re-loading the object by using <code>.Last.value</code>.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>The data was initially prepared by scripts at
https://github.com/LieberInstitute/HumanPilot and further refined by
https://github.com/LieberInstitute/spatialLIBD/blob/master/inst/scripts/make-data_spatialLIBD.R.</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Download the SingleCellExperiment object</span></span></span>
<span class="r-in"><span><span class="co">## at the layer-level</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/exists.html" class="external-link">exists</a></span><span class="op">(</span><span class="st">"sce_layer"</span><span class="op">)</span><span class="op">)</span> <span class="va">sce_layer</span> <span class="op">&lt;-</span> <span class="fu">fetch_data</span><span class="op">(</span><span class="st">"sce_layer"</span><span class="op">)</span></span></span>
<span class="r-msg co"><span class="r-pr">#&gt;</span> 2024-03-28 18:04:14.395956 loading file /github/home/.cache/R/BiocFileCache/66d3007816b_Human_DLPFC_Visium_processedData_sce_scran_sce_layer_spatialLIBD.Rdata%3Fdl%3D1</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## Explore the data</span></span></span>
<span class="r-in"><span><span class="va">sce_layer</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> class: SingleCellExperiment </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> dim: 22331 76 </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> metadata(0):</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> assays(2): counts logcounts</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> rownames(22331): ENSG00000243485 ENSG00000238009 ... ENSG00000278384</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   ENSG00000271254</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> rowData names(10): source type ... is_top_hvg is_top_hvg_sce_layer</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> colnames(76): 151507_Layer1 151507_Layer2 ... 151676_Layer6 151676_WM</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> colData names(13): sample_name layer_guess ...</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   layer_guess_reordered_short spatialLIBD</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> reducedDimNames(6): PCA TSNE_perplexity5 ... UMAP_neighbors15 PCAsub</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> mainExpName: NULL</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> altExpNames(0):</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">## How to download and load "spatialDLPFC_snRNAseq"</span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span></span>
<span class="r-in"><span><span class="va">sce_path_zip</span> <span class="op">&lt;-</span> <span class="fu">fetch_data</span><span class="op">(</span><span class="st">"spatialDLPFC_snRNAseq"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">sce_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/unzip.html" class="external-link">unzip</a></span><span class="op">(</span><span class="va">sce_path_zip</span>, exdir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">sce</span> <span class="op">&lt;-</span> <span class="fu">HDF5Array</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/HDF5Array/man/saveHDF5SummarizedExperiment.html" class="external-link">loadHDF5SummarizedExperiment</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">"sce_DLPFC_annotated"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">sce</span></span></span>
<span class="r-in"><span><span class="co">#&gt; class: SingleCellExperiment</span></span></span>
<span class="r-in"><span><span class="co">#&gt; dim: 36601 77604</span></span></span>
<span class="r-in"><span><span class="co">#&gt; metadata(3): Samples cell_type_colors cell_type_colors_broad</span></span></span>
<span class="r-in"><span><span class="co">#&gt; assays(2): counts logcounts</span></span></span>
<span class="r-in"><span><span class="co">#&gt; rownames(36601): MIR1302-2HG FAM138A ... AC007325.4 AC007325.2</span></span></span>
<span class="r-in"><span><span class="co">#&gt; rowData names(7): source type ... gene_type binomial_deviance</span></span></span>
<span class="r-in"><span><span class="co">#&gt; colnames(77604): 1_AAACCCAAGTTCTCTT-1 1_AAACCCACAAGGTCTT-1 ... 19_TTTGTTGTCTCATTGT-1 19_TTTGTTGTCTTAAGGC-1</span></span></span>
<span class="r-in"><span><span class="co">#&gt; colData names(32): Sample Barcode ... cellType_layer layer_annotation</span></span></span>
<span class="r-in"><span><span class="co">#&gt; reducedDimNames(4): GLMPCA_approx TSNE UMAP HARMONY</span></span></span>
<span class="r-in"><span><span class="co">#&gt; mainExpName: NULL</span></span></span>
<span class="r-in"><span><span class="co">#&gt; altExpNames(0):</span></span></span>
<span class="r-in"><span><span class="fu">lobstr</span><span class="fu">::</span><span class="fu"><a href="https://lobstr.r-lib.org/reference/obj_size.html" class="external-link">obj_size</a></span><span class="op">(</span><span class="va">sce</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="co">#&gt; 172.28 MB</span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Leonardo Collado-Torres.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

